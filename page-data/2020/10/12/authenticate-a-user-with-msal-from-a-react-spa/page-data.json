{"componentChunkName":"component---src-templates-article-template-js","path":"/2020/10/12/authenticate-a-user-with-msal-from-a-react-spa","result":{"data":{"mdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Authenticate a user with MSAL from a React SPA\",\n  \"tags\": [\"typescript\", \"azure\", \"react\"],\n  \"date\": \"2020-10-12T11:30:00.000Z\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"blockquote\", null, mdx(\"h4\", {\n    parentName: \"blockquote\"\n  }, \"The acronyms, oh my!\"), mdx(\"ul\", {\n    parentName: \"blockquote\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"MSAL: Microsoft Authentication Library\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"SPA: Single Page Application\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"AAD: Azure active directory\"))), mdx(\"p\", null, \"In the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/2008/01/30/the-no-frills-bare-bones-example-to-duplex-wcf\"\n  }, \"fine tradition\"), \" of reducing Microsoft samples to a form that focuses on the feature it tries to explain and highlight, while removing cruft that isn't really necessary, here comes the next one.\"), mdx(\"p\", null, \"The original sample this is derived from \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/Azure-Samples/ms-identity-javascript-react-spa-dotnetcore-webapi-obo\"\n  }, \"resides in the azure-samples repo\"), \". 12 years ago it was sort of enough to show a couple of classes and that's it - now that the sample entails a server and a react client with frontend, \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/flq/MsIdentityReactSpaBareBones\"\n  }, \"it needs its own repository\"), \".\"), mdx(\"p\", null, \"The original sample contains a lot of noise related to using a redux store and spreading out what is really happening over several components / actions / reducers / store. I translated this into more contemporary react (no, redux isn't and shouldn't be your default choice anymore). The actual authentication magic is handled by microsoft's own library \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.npmjs.com/package/@azure/msal-browser\"\n  }, mdx(\"strong\", {\n    parentName: \"a\"\n  }, \"msal-browser\")), \" and mostly plays out in the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/flq/MsIdentityReactSpaBareBones/blob/main/client-spa/src/infrastructure/msal.ts\"\n  }, \"\\\"useMsal\\\" react hook\"), \". Check out the sign in and how the token is then aquired.\"), mdx(\"p\", null, \"This code will do absolutely zilch for you if you haven't done your homework registering the proper Applications connected to your AAD. Some instructions are given in the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/flq/MsIdentityReactSpaBareBones/blob/main/client-spa/README.md\"\n  }, \"main readme of the repo\"), \". This overview may also help where to look around:\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/assets/azure-msal.jpg\",\n    \"alt\": \"App registrations inside AAD\"\n  })), mdx(\"p\", null, \"Screenshots from azure are omitted because they grow stale at a rate that makes it untenable, but if something's completely unclear, let me know.\"));\n}\n;\nMDXContent.isMDXComponent = true;","fields":{"slug":"/2020/10/12/authenticate-a-user-with-msal-from-a-react-spa"},"frontmatter":{"date":"October 12, 2020","path":null,"title":"Authenticate a user with MSAL from a React SPA","tags":["typescript","azure","react"]}}},"pageContext":{"title":"Authenticate a user with MSAL from a React SPA","previous":{"fields":{"slug":"/2020/09/20/how-to-typescript-representing-hierarchical-state-with-tuples","published":true},"frontmatter":{"title":"How to typescript: Representing hierarchical state with tuples","tags":["programming","typescript"],"date":"2020/09/20"}},"next":{"fields":{"slug":"/2021/01/10/dont-forget-2020","published":true},"frontmatter":{"title":"Don't forget 2020","tags":["loosely-coupled","biology"],"date":"2021/01/10"}}}},"staticQueryHashes":["256249292","2581731408","3764592887"]}