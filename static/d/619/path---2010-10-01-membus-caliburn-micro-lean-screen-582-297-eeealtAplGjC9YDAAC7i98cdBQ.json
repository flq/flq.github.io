{"data":{"markdownRemark":{"html":"<p>To be honest, without <a href=\"http://www.rudigrobler.net/Blog/screen-conductor-101\">this blog post</a> on <a href=\"http://caliburnmicro.codeplex.com/\">Caliburn.Micro</a> I was kind of stuck. But now I ended up with my Screen conductor, and it’s likely that it is not going to change a lot:</p>\n <div style=\"padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px\" id=\"scid:812469c5-0cb0-4c63-8c15-c81123a09de7:5c9b4a60-78d4-4fc8-97b3-89ac13b6ea27\" class=\"wlWriterEditableSmartContent\"><pre name=\"code\" class=\"c#\">[Single]\npublic class ShellViewModel : Conductor&lt;Screen&gt;\n{\n    private readonly IDisposable screenStreamDispose;\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">public ShellViewModel(IObservable&amp;lt;RequestToActivateScreen&amp;gt; screenStream)\n{\n    screenStreamDispose = screenStream\n        .SubscribeOnDispatcher()\n        .Where(msg=&amp;gt;msg.ScreenAvailable)\n        .Subscribe(onNextScreenRequest);\n}\n\nprivate void onNextScreenRequest(RequestToActivateScreen request)\n{\n    ActivateItem(request.Screen);\n}\n\nprotected override void OnDeactivate(bool close)\n{\n    screenStreamDispose.Dispose();\n    base.OnDeactivate(close);\n}</code></pre></div>\n<p>}</pre></div></p>\n<p>The Observable is constructed based on <strong>MemBus</strong>. The screenStream is shaped with the aid of the reactive framework while “<strong>ActivateItem</strong>” loads the corresponding view for the given Screen. Overriding <strong>OnDeactivate</strong> gives a nice place to dispose of a subscription. The whole code is to be found in the <a href=\"http://github.com/flq/MemBus/tree/master//Membus.WpfTwitterClient/\">MemBus “Hello World” App</a>.</p>","frontmatter":{"date":"October 01, 2010","path":null,"title":"MemBus + Caliburn.Micro = Lean Screen","tags":["software-development","dotnet","membus","libs-and-frameworks"]}}},"pageContext":{"title":"MemBus + Caliburn.Micro = Lean Screen","previous":{"fields":{"slug":"/2010/09/27/membus-using-an-ioc-container-to-provide-subscribers"},"frontmatter":{"title":"MemBus: Using an IoC Container to provide subscribers","tags":["software-development","patterns","membus"],"date":"2010/09/27"}},"next":{"fields":{"slug":"/2010/10/11/useful-extension-methods-for-points-and-friends-in-wpf"},"frontmatter":{"title":"Useful Extension Methods for Points and friends in WPF","tags":["software-development","libs-and-frameworks"],"date":"2010/10/11"}}}}