{"data":{"markdownRemark":{"html":"<p>Some weeks ago Jeremy <a href=\"http://codebetter.com/blogs/jeremy.miller/archive/2010/02/04/structuremap-2-6-and-2-5-4-is-released.aspx\">released StructureMap 2.6.x</a> . An interesting change is the apparent ditching of Reflection.Emit code in favour of using Expressions to do the “instance instantiation” (sic). Almost 2 years ago I wrote a post on <a href=\"/Content/Entry/109\">instantiation performance of DI containers</a>. I never checked up on StructureMap (SM). Now it’s time to do just that. </p>\n<p>My focus was on comparing SM 2.5.4 to SM 2.6.2, assuming that the 2.5 version still has the Emit code in it (pretty sure of it because there was some emit-related bug in it once). I extended the solution used for the performance comparison and set it up exactly the same for the two StructureMap versions.</p>\n<p>The only line of code that changes is the definition of the dependency. While in StructureMap 2.5.x you say:\n<code class=\"language-text\">IContainer c = new Container(e =&gt; e.ForRequestedType&lt;IExchangeRateEngine&gt;().TheDefaultIsConcreteType&lt;SimpleExchangeRateEngine&gt;());</code> </p>\n<p>The current version gives you this syntax:\n<code class=\"language-text\">IContainer c = new Container(e=&gt;e.For&lt;IExchangeRateEngine&gt;().Use&lt;SimpleExchangeRateEngine&gt;());</code> </p>\n<p>I was after comparative figures, hence I just ran the 2 projects from within Visual Studio as debug build. The times are noted in milliseconds / instantiation and denote the shortest / longest measured time:</p>\n<ul>\n<li>StructureMap 2.5.4 : 0.0058 / 0.0087  <li>StructureMap 2.6.2 : 0.0068 / 0.0104 </li>\n</ul>\n<p>This is a performance loss of roughly 17% / 19% . Therefore, there <em>is</em> some loss. However, it is far away from any order of magnitude and should not matter much at all in all but the most devious cases of excessive instantiating.</p>","fields":{"slug":"/2010/02/18/comparing-instantiation-performance-of-structuremap-2-5-4-to-2-6-2"},"frontmatter":{"date":"February 18, 2010","path":null,"title":"Comparing instantiation performance of StructureMap 2.5.4 to 2.6.2","tags":["dotnet","patterns","libs-and-frameworks"]}}},"pageContext":{"title":"Comparing instantiation performance of StructureMap 2.5.4 to 2.6.2","previous":{"fields":{"slug":"/2010/02/06/getting-fubumvc-from-github-and-building-it-from-the-command-line"},"frontmatter":{"title":"Getting FubuMVC from github and building it from the command line","tags":["ruby","dotnet","web","libs-and-frameworks"],"date":"2010/02/06"}},"next":{"fields":{"slug":"/2010/02/28/proposal-for-open-source-software-usage-in-net-as-comfy-as-rubygems"},"frontmatter":{"title":"Proposal for Open Source Software usage in .NET (as comfy as rubygems)","tags":["dotnet","own-software"],"date":"2010/02/28"}}}}