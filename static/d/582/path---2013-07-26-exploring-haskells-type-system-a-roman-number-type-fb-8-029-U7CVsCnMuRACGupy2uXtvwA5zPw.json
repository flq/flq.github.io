{"data":{"markdownRemark":{"html":"<p>Once in a while I need a break from my day-to-day job in C# land. Don't get me wrong, I like the language, but it doesn't cover <em>all</em> of my intellectual needs.\nMore specifically, if I</p>\n<ul>\n<li>Need some functional, imperfect chaos, which gets much done nonetheless, or in <a href=\"http://www.hanselman.com/blog/JavaScriptIsAssemblyLanguageForTheWebSematicMarkupIsDeadCleanVsMachinecodedHTML.aspx\">Scott Hanselman's words</a>, if I want to do some assembly language, I go and visit <strong>JavaScript</strong></li>\n<li>Need purity, the most amazing compiler that ruthlessly cracks down on any typing (in the computing sense) error you do, the serenity of a perfect universe that simulates dirt only if it has to, then I visit <strong>Haskell</strong>.</li>\n</ul>\n<p>This time it was Haskell's turn - the <a href=\"http://realfiction.net/go/92\">last time</a> I delved into Haskell, I hadn't really touched its type system, only used those already in place. This time I wanted to rectify that.</p>\n<h2>Behold - the Roman number</h2>\n<p><div id=\"gist6273665\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-roman-hs\" class=\"file\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-haskell \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\">\n      <tr>\n        <td id=\"file-roman-hs-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-roman-hs-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">module</span> <span class=\"pl-c1\">Roman</span> <span class=\"pl-k\">where</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-roman-hs-LC2\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-roman-hs-LC3\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-k\">import</span> <span class=\"pl-c1\">Data.List</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-roman-hs-LC4\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"></td>\n        <td id=\"file-roman-hs-LC5\" class=\"blob-code blob-code-inner js-file-line\">  atoms <span class=\"pl-k\">=</span> [(<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>M<span class=\"pl-pds\">&quot;</span></span>,<span class=\"pl-c1\">1000</span>),(<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>CM<span class=\"pl-pds\">&quot;</span></span>,<span class=\"pl-c1\">900</span>),(<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>D<span class=\"pl-pds\">&quot;</span></span>,<span class=\"pl-c1\">500</span>),(<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>CD<span class=\"pl-pds\">&quot;</span></span>,<span class=\"pl-c1\">400</span>),(<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>C<span class=\"pl-pds\">&quot;</span></span>,<span class=\"pl-c1\">100</span>),(<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>XC<span class=\"pl-pds\">&quot;</span></span>,<span class=\"pl-c1\">90</span>),</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"></td>\n        <td id=\"file-roman-hs-LC6\" class=\"blob-code blob-code-inner js-file-line\">           (<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>L<span class=\"pl-pds\">&quot;</span></span>,<span class=\"pl-c1\">50</span>),(<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>XL<span class=\"pl-pds\">&quot;</span></span>,<span class=\"pl-c1\">40</span>),(<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>X<span class=\"pl-pds\">&quot;</span></span>,<span class=\"pl-c1\">10</span>),(<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>IX<span class=\"pl-pds\">&quot;</span></span>,<span class=\"pl-c1\">9</span>),(<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>V<span class=\"pl-pds\">&quot;</span></span>,<span class=\"pl-c1\">5</span>),(<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>IV<span class=\"pl-pds\">&quot;</span></span>,<span class=\"pl-c1\">4</span>),(<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>I<span class=\"pl-pds\">&quot;</span></span>,<span class=\"pl-c1\">1</span>)]</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L7\" class=\"blob-num js-line-number\" data-line-number=\"7\"></td>\n        <td id=\"file-roman-hs-LC7\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L8\" class=\"blob-num js-line-number\" data-line-number=\"8\"></td>\n        <td id=\"file-roman-hs-LC8\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-k\">data</span> <span class=\"pl-en\">Roman</span> <span class=\"pl-k\">=</span> <span class=\"pl-ent\">R</span> <span class=\"pl-en\"><span class=\"pl-c1\">String</span></span> | <span class=\"pl-ent\">RN</span> <span class=\"pl-en\"><span class=\"pl-c1\">Int</span></span></td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L9\" class=\"blob-num js-line-number\" data-line-number=\"9\"></td>\n        <td id=\"file-roman-hs-LC9\" class=\"blob-code blob-code-inner js-file-line\">  </td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L10\" class=\"blob-num js-line-number\" data-line-number=\"10\"></td>\n        <td id=\"file-roman-hs-LC10\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-k\">instance</span> <span class=\"pl-en\"><span class=\"pl-e\">Show</span></span> <span class=\"pl-en\">Roman</span> <span class=\"pl-k\">where</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L11\" class=\"blob-num js-line-number\" data-line-number=\"11\"></td>\n        <td id=\"file-roman-hs-LC11\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c1\">show</span> a <span class=\"pl-k\">=</span> <span class=\"pl-c1\">show</span> <span class=\"pl-k\">$</span> romanToString a</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L12\" class=\"blob-num js-line-number\" data-line-number=\"12\"></td>\n        <td id=\"file-roman-hs-LC12\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L13\" class=\"blob-num js-line-number\" data-line-number=\"13\"></td>\n        <td id=\"file-roman-hs-LC13\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-k\">instance</span> <span class=\"pl-en\"><span class=\"pl-e\">Eq</span></span> <span class=\"pl-en\">Roman</span> <span class=\"pl-k\">where</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L14\" class=\"blob-num js-line-number\" data-line-number=\"14\"></td>\n        <td id=\"file-roman-hs-LC14\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-en\">(==)</span> a b <span class=\"pl-k\">=</span> romanToInt a <span class=\"pl-k\">==</span> romanToInt b</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L15\" class=\"blob-num js-line-number\" data-line-number=\"15\"></td>\n        <td id=\"file-roman-hs-LC15\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L16\" class=\"blob-num js-line-number\" data-line-number=\"16\"></td>\n        <td id=\"file-roman-hs-LC16\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-k\">instance</span> <span class=\"pl-en\"><span class=\"pl-e\">Num</span></span> <span class=\"pl-en\">Roman</span> <span class=\"pl-k\">where</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L17\" class=\"blob-num js-line-number\" data-line-number=\"17\"></td>\n        <td id=\"file-roman-hs-LC17\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-en\">(+)</span> x y <span class=\"pl-k\">=</span> <span class=\"pl-ent\">RN</span> (romanToInt x <span class=\"pl-k\">+</span> romanToInt y)</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L18\" class=\"blob-num js-line-number\" data-line-number=\"18\"></td>\n        <td id=\"file-roman-hs-LC18\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-en\">(-)</span> x y <span class=\"pl-k\">=</span> <span class=\"pl-ent\">RN</span> (romanToInt x <span class=\"pl-k\">-</span> romanToInt y)</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L19\" class=\"blob-num js-line-number\" data-line-number=\"19\"></td>\n        <td id=\"file-roman-hs-LC19\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-en\">(*)</span> x y <span class=\"pl-k\">=</span> <span class=\"pl-ent\">RN</span> (romanToInt x <span class=\"pl-k\">*</span> romanToInt y)</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L20\" class=\"blob-num js-line-number\" data-line-number=\"20\"></td>\n        <td id=\"file-roman-hs-LC20\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c1\">abs</span> <span class=\"pl-k\">=</span> <span class=\"pl-ent\">RN</span> <span class=\"pl-k\">.</span> <span class=\"pl-c1\">abs</span> <span class=\"pl-k\">.</span> romanToInt</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L21\" class=\"blob-num js-line-number\" data-line-number=\"21\"></td>\n        <td id=\"file-roman-hs-LC21\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c1\">fromInteger</span> <span class=\"pl-k\">=</span> <span class=\"pl-ent\">RN</span> <span class=\"pl-k\">.</span> <span class=\"pl-c1\">fromIntegral</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L22\" class=\"blob-num js-line-number\" data-line-number=\"22\"></td>\n        <td id=\"file-roman-hs-LC22\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c1\">signum</span> <span class=\"pl-k\">=</span> <span class=\"pl-ent\">RN</span> <span class=\"pl-k\">.</span> <span class=\"pl-c1\">signum</span> <span class=\"pl-k\">.</span> romanToInt</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L23\" class=\"blob-num js-line-number\" data-line-number=\"23\"></td>\n        <td id=\"file-roman-hs-LC23\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L24\" class=\"blob-num js-line-number\" data-line-number=\"24\"></td>\n        <td id=\"file-roman-hs-LC24\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-en\">romanStringToInt</span> <span class=\"pl-k\">::</span> <span class=\"pl-en\"><span class=\"pl-c1\">String</span></span> <span class=\"pl-k\">-&gt;</span> <span class=\"pl-en\"><span class=\"pl-c1\">Int</span></span></td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L25\" class=\"blob-num js-line-number\" data-line-number=\"25\"></td>\n        <td id=\"file-roman-hs-LC25\" class=\"blob-code blob-code-inner js-file-line\">  romanStringToInt input <span class=\"pl-k\">=</span> twoLetterSum <span class=\"pl-k\">+</span> (singleLetter reduced)</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L26\" class=\"blob-num js-line-number\" data-line-number=\"26\"></td>\n        <td id=\"file-roman-hs-LC26\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">where</span> </td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L27\" class=\"blob-num js-line-number\" data-line-number=\"27\"></td>\n        <td id=\"file-roman-hs-LC27\" class=\"blob-code blob-code-inner js-file-line\">      twoLetterSum <span class=\"pl-k\">=</span> <span class=\"pl-c1\">sum</span> <span class=\"pl-k\">$</span> <span class=\"pl-c1\">map</span> <span class=\"pl-c1\">snd</span> matchingTwoLetters</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L28\" class=\"blob-num js-line-number\" data-line-number=\"28\"></td>\n        <td id=\"file-roman-hs-LC28\" class=\"blob-code blob-code-inner js-file-line\">      reduced <span class=\"pl-k\">=</span> <span class=\"pl-c1\">foldl</span> <span class=\"pl-en\">(\\\\)</span> input <span class=\"pl-k\">$</span> <span class=\"pl-c1\">map</span> <span class=\"pl-c1\">fst</span> matchingTwoLetters</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L29\" class=\"blob-num js-line-number\" data-line-number=\"29\"></td>\n        <td id=\"file-roman-hs-LC29\" class=\"blob-code blob-code-inner js-file-line\">      matchingTwoLetters <span class=\"pl-k\">=</span> [ (lt,num) <span class=\"pl-k\">|</span>(lt,num) <span class=\"pl-k\">&lt;-</span> atoms, <span class=\"pl-c1\">length</span> lt <span class=\"pl-k\">==</span> <span class=\"pl-c1\">2</span>, isInfixOf lt input]</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L30\" class=\"blob-num js-line-number\" data-line-number=\"30\"></td>\n        <td id=\"file-roman-hs-LC30\" class=\"blob-code blob-code-inner js-file-line\">      singleLetter <span class=\"pl-c1\">[]</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">0</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L31\" class=\"blob-num js-line-number\" data-line-number=\"31\"></td>\n        <td id=\"file-roman-hs-LC31\" class=\"blob-code blob-code-inner js-file-line\">      singleLetter (l<span class=\"pl-k\">:</span>ls) <span class=\"pl-k\">=</span> numberFor [l] <span class=\"pl-k\">+</span> singleLetter ls</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L32\" class=\"blob-num js-line-number\" data-line-number=\"32\"></td>\n        <td id=\"file-roman-hs-LC32\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-k\">where</span> </td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L33\" class=\"blob-num js-line-number\" data-line-number=\"33\"></td>\n        <td id=\"file-roman-hs-LC33\" class=\"blob-code blob-code-inner js-file-line\">          numberFor l <span class=\"pl-k\">=</span> <span class=\"pl-c1\">snd</span> <span class=\"pl-k\">$</span> findOrFail (finder l) atoms</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L34\" class=\"blob-num js-line-number\" data-line-number=\"34\"></td>\n        <td id=\"file-roman-hs-LC34\" class=\"blob-code blob-code-inner js-file-line\">          finder l <span class=\"pl-k\">=</span> (<span class=\"pl-k\">\\</span>x <span class=\"pl-k\">-&gt;</span> <span class=\"pl-c1\">fst</span> x <span class=\"pl-k\">==</span> l)</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L35\" class=\"blob-num js-line-number\" data-line-number=\"35\"></td>\n        <td id=\"file-roman-hs-LC35\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L36\" class=\"blob-num js-line-number\" data-line-number=\"36\"></td>\n        <td id=\"file-roman-hs-LC36\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-en\">intToRomanString</span> <span class=\"pl-k\">::</span> <span class=\"pl-en\"><span class=\"pl-c1\">Int</span></span> <span class=\"pl-k\">-&gt;</span> <span class=\"pl-en\"><span class=\"pl-c1\">String</span></span></td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L37\" class=\"blob-num js-line-number\" data-line-number=\"37\"></td>\n        <td id=\"file-roman-hs-LC37\" class=\"blob-code blob-code-inner js-file-line\">  intToRomanString <span class=\"pl-c1\">0</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span><span class=\"pl-pds\">&quot;</span></span></td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L38\" class=\"blob-num js-line-number\" data-line-number=\"38\"></td>\n        <td id=\"file-roman-hs-LC38\" class=\"blob-code blob-code-inner js-file-line\">  intToRomanString a <span class=\"pl-k\">=</span> <span class=\"pl-k\">case</span> (x) <span class=\"pl-k\">of</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L39\" class=\"blob-num js-line-number\" data-line-number=\"39\"></td>\n        <td id=\"file-roman-hs-LC39\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">Just</span> (letter,number) <span class=\"pl-k\">-&gt;</span> letter <span class=\"pl-k\">++</span> intToRomanString (a <span class=\"pl-k\">-</span> number)</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L40\" class=\"blob-num js-line-number\" data-line-number=\"40\"></td>\n        <td id=\"file-roman-hs-LC40\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">Nothing</span> <span class=\"pl-k\">-&gt;</span> <span class=\"pl-c1\">error</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>romans did not have negative numbers<span class=\"pl-pds\">&quot;</span></span></td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L41\" class=\"blob-num js-line-number\" data-line-number=\"41\"></td>\n        <td id=\"file-roman-hs-LC41\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">where</span> x <span class=\"pl-k\">=</span> head&#39; [(l,num) <span class=\"pl-k\">|</span> (l,num) <span class=\"pl-k\">&lt;-</span> atoms, a <span class=\"pl-k\">-</span> num <span class=\"pl-k\">&gt;=</span> <span class=\"pl-c1\">0</span>]</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L42\" class=\"blob-num js-line-number\" data-line-number=\"42\"></td>\n        <td id=\"file-roman-hs-LC42\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L43\" class=\"blob-num js-line-number\" data-line-number=\"43\"></td>\n        <td id=\"file-roman-hs-LC43\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L44\" class=\"blob-num js-line-number\" data-line-number=\"44\"></td>\n        <td id=\"file-roman-hs-LC44\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-en\">romanToString</span> <span class=\"pl-k\">::</span> <span class=\"pl-en\">Roman</span> <span class=\"pl-k\">-&gt;</span> <span class=\"pl-en\"><span class=\"pl-c1\">String</span></span></td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L45\" class=\"blob-num js-line-number\" data-line-number=\"45\"></td>\n        <td id=\"file-roman-hs-LC45\" class=\"blob-code blob-code-inner js-file-line\">  romanToString x <span class=\"pl-k\">=</span> <span class=\"pl-k\">case</span> (x) <span class=\"pl-k\">of</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L46\" class=\"blob-num js-line-number\" data-line-number=\"46\"></td>\n        <td id=\"file-roman-hs-LC46\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">R</span> x <span class=\"pl-k\">-&gt;</span> x</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L47\" class=\"blob-num js-line-number\" data-line-number=\"47\"></td>\n        <td id=\"file-roman-hs-LC47\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">RN</span> x <span class=\"pl-k\">-&gt;</span> intToRomanString x</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L48\" class=\"blob-num js-line-number\" data-line-number=\"48\"></td>\n        <td id=\"file-roman-hs-LC48\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L49\" class=\"blob-num js-line-number\" data-line-number=\"49\"></td>\n        <td id=\"file-roman-hs-LC49\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-en\">romanToInt</span> <span class=\"pl-k\">::</span> <span class=\"pl-en\">Roman</span> <span class=\"pl-k\">-&gt;</span> <span class=\"pl-en\"><span class=\"pl-c1\">Int</span></span></td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L50\" class=\"blob-num js-line-number\" data-line-number=\"50\"></td>\n        <td id=\"file-roman-hs-LC50\" class=\"blob-code blob-code-inner js-file-line\">  romanToInt x <span class=\"pl-k\">=</span> <span class=\"pl-k\">case</span> (x) <span class=\"pl-k\">of</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L51\" class=\"blob-num js-line-number\" data-line-number=\"51\"></td>\n        <td id=\"file-roman-hs-LC51\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">RN</span> x <span class=\"pl-k\">-&gt;</span> x</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L52\" class=\"blob-num js-line-number\" data-line-number=\"52\"></td>\n        <td id=\"file-roman-hs-LC52\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">R</span> x <span class=\"pl-k\">-&gt;</span> romanStringToInt x</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L53\" class=\"blob-num js-line-number\" data-line-number=\"53\"></td>\n        <td id=\"file-roman-hs-LC53\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L54\" class=\"blob-num js-line-number\" data-line-number=\"54\"></td>\n        <td id=\"file-roman-hs-LC54\" class=\"blob-code blob-code-inner js-file-line\">  head&#39; <span class=\"pl-c1\">[]</span>     <span class=\"pl-k\">=</span> <span class=\"pl-ent\">Nothing</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L55\" class=\"blob-num js-line-number\" data-line-number=\"55\"></td>\n        <td id=\"file-roman-hs-LC55\" class=\"blob-code blob-code-inner js-file-line\">  head&#39; (x<span class=\"pl-k\">:</span>xs) <span class=\"pl-k\">=</span> <span class=\"pl-ent\">Just</span> x</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L56\" class=\"blob-num js-line-number\" data-line-number=\"56\"></td>\n        <td id=\"file-roman-hs-LC56\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L57\" class=\"blob-num js-line-number\" data-line-number=\"57\"></td>\n        <td id=\"file-roman-hs-LC57\" class=\"blob-code blob-code-inner js-file-line\">  findOrFail x y <span class=\"pl-k\">=</span> wrap <span class=\"pl-k\">$</span> find x y</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L58\" class=\"blob-num js-line-number\" data-line-number=\"58\"></td>\n        <td id=\"file-roman-hs-LC58\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">where</span> wrap x <span class=\"pl-k\">=</span> <span class=\"pl-k\">case</span> (x) <span class=\"pl-k\">of</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L59\" class=\"blob-num js-line-number\" data-line-number=\"59\"></td>\n        <td id=\"file-roman-hs-LC59\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-ent\">Just</span> that <span class=\"pl-k\">-&gt;</span> that</td>\n      </tr>\n      <tr>\n        <td id=\"file-roman-hs-L60\" class=\"blob-num js-line-number\" data-line-number=\"60\"></td>\n        <td id=\"file-roman-hs-LC60\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-ent\">Nothing</span> <span class=\"pl-k\">-&gt;</span> <span class=\"pl-c1\">error</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>Could not find any element that satisfies condition<span class=\"pl-pds\">&quot;</span></span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/flq/6273665/raw/f150f1cd6179ac8a5ec81588bb8273c267bc5d10/roman.hs\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/flq/6273665#file-roman-hs\">roman.hs</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</p>\n<p><strong>Disclaimer:</strong> <em>I may have only implemented a subset of the proper rules of how to write Roman numbers. If you use this type to calculate the altitude of your plane, and it doesn't work, don't sue me, because I give no guarantees as to the 100% correctness of the code</em></p>\n<p>The Roman number <em>cough</em> system <em>cough</em> had no extraordinary mathematical capabilities - I am not aware of any systematic approach that would let you add two Roman numbers. Their only purpose must have been to attach a word to a number.</p>\n<p>The interesting parts with regard to the type system are <strong>lines 8-22</strong>. What is defined here is</p>\n<ul>\n<li>What a <em>Roman</em> is : It has two constructors that take a String or an Int</li>\n<li>That a <em>Roman</em> can be shown, which makes it interesting e.g. in the interactive mode of Haskell</li>\n<li>That two <em>Romans</em> can be compared</li>\n<li>That a <em>Roman</em> behaves like a <em>Num</em> type</li>\n</ul>\n<p>The rest is really just a fair enough implementation of how to get from something like <strong>MCMLXXXIV</strong> to <strong>1984</strong>.</p>\n<p>The (probably quite inaccurate) conclusions I take away from this quick splash into Haskell-land</p>\n<ul>\n<li>Haskell classes can be compared somewhat to interfaces, but they can carry default implementations</li>\n<li>Haskell data can have what could be compared to multiple constructors, but later on we can actually match on how data was constructed</li>\n<li>Not used here, but Haskell has a decent record syntax (yes, I am pointing at you, <a href=\"http://learnyousomeerlang.com/a-short-visit-to-common-data-structures\">Erlang</a>) </li>\n<li>The capabilities, or traits, or contracts or whatever you like to call them are much cleaner defined. Not every <em>thing</em> is by default equatable. Not every <em>thing</em> is by default displayable.</li>\n</ul>\n<p>All in all, once again, refreshing, and purifying ;)</p>","fields":{"slug":"/2013/07/26/exploring-haskells-type-system-a-roman-number-type"},"frontmatter":{"date":"July 26, 2013","path":null,"title":"Exploring Haskell's type system - A Roman number type","tags":["programming","haskell"]}}},"pageContext":{"title":"Exploring Haskell's type system - A Roman number type","previous":{"fields":{"slug":"/2013/05/27/a-knee-shot-involving-structuremap-a-closure-and-a-leaking-implementation-detail","published":true},"frontmatter":{"title":"A knee-shot involving StructureMap, a closure and a leaking implementation detail","tags":["programming","dotnet"],"date":"2013/05/27"}},"next":{"fields":{"slug":"/2013/07/31/atrocious-learnings-of-haskell-for-make-benefit-of-solving-math-problem","published":true},"frontmatter":{"title":"Atrocious Learnings of Haskell for Make Benefit of solving Math Problem","tags":["programming","haskell"],"date":"2013/07/30"}}}}