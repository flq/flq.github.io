{"data":{"markdownRemark":{"html":"<blockquote>\n<p>The following was written by me as a comment on a <a href=\"http://lostechies.com/derickbailey/2010/09/30/monads-in-c-which-part-is-the-monad/\">post from Derick Bailey regarding Monads</a>. Since then,\nthe comments have disappeared, presumably because they moved to the disqus commenting system. While I managed to migrate my comments\nlostechies apparently is unable to do so - sad, considering that the comments on a blog post often add a lot of value.</p>\n</blockquote>\n<p>When you move on in the <a href=\"http://en.wikipedia.org/wiki/Monad_(functional_programming)\">very same wikipedia article</a> <strong>(Concepts/Definition)</strong> (<em>about monads - ed.</em>), I think it all becomes a lot clearer. A monad is defined by</p>\n<blockquote>\n<p>\"A type construction that defines, for every underlying type, how to obtain a corresponding monadic type.\"</p>\n</blockquote>\n<p>The mere ability to say that for every T you can construct a <em>Maybe(Of T)</em> should satisfy this condition.</p>\n<blockquote>\n<p>\"A unit function that maps a value in an underlying type to a value in the corresponding monadic type.\"</p>\n</blockquote>\n<p>This is quite clearly your extension method <em>\"ToMaybe()\"</em></p>\n<blockquote>\n<p>\"A binding operation of polymorphic type (M t)->(t->M u)->(M u)\"</p>\n</blockquote>\n<p>Looks weird, but check out the signature of your e.g. <em>\"If\"</em> </p>\n<pre><code>Maybe&#x3C;TInput> If&#x3C;TInput>(this Maybe&#x3C;TInput> maybe, Func&#x3C;TInput,bool> func)\n</code></pre>\n<p>Input is a type of your \"nested\" monadic type system. Then comes a mapping from a non-monadic type to a monadic one. This doesn't become apparent in the function signature, but you will notice that the \"Func\" is used to construct an instance in the monadic type system. </p>\n<p>Finally the result is an instance of the Monadic type system. Hence, your \"If\" is the \"bind\" part of the monad. In this case <em>\"t\" = \"u\"</em>, but in your definition of <em>\"Get\"</em>, \"t\" and \"u\" can be different types.</p>\n<p><code>Maybe&#x3C;TResult> Get&#x3C;TInput, TResult>(Maybe&#x3C;TInput> maybe, Func&#x3C;TInput, TResult> func)</code></p>\n<p>Chaining comes automatically, since the output of a bind is part of the Monadic type system and you have ensured that for every type \"t\" or \"u\" (sticking to the above definition) there is a mapping to the monadic type system.</p>\n<p>As another example LINQ is \"almost\" monadic. What it has missing is a unit function from T -> IEnumerable which you can provide easy enough:</p>\n<pre><code>public IEnumerable&#x3C;T> ToEnumerable(this T obj) { yield return obj; }\n</code></pre>\n<p>You'll probably recognize that e.g. the <em>\"Select\"</em> has a very similar structure, with the monadic type system being <em>IEnumerable(Of T)</em>. Again, method chaining follows from the mere definition of a monad. It looks similar to a fluent interface but I wouldn't confuse the two, as it doesnâ€™t help and in fluent interfaces you often just return the instance on which you called the method, sparing you the use of <em>\";\"</em></p>\n<p>That's my 2 cents, almost a blog post in itself :)</p>","frontmatter":{"date":"December 04, 2011","path":null,"title":"On Monads","tags":["software-development","dotnet","haskell"]}}},"pageContext":{"title":"On Monads"}}